/* ===== LIGHT MODE ===== */
:root{
  --bg:#9ad6ff;
  --card:#fbd000;
  --text:#1a1a1a;
  --brick:url('brick.png');
}

body.dark{
  --bg:#050914;
  --card:#DD5818;
  --text:#ffffff;
  --brick:url('brick-dark.jpg');
}

*{box-sizing:border-box;font-family:'Segoe UI',sans-serif}

body{
  margin:0;
  min-height:100vh;
  background:radial-gradient(circle at top,#1a2040,var(--bg));
  color:var(--text);
  display:flex;
  justify-content:center;
  padding:40px;
}

.container{
  width:100%;
  max-width:1000px;
  background:var(--card);
  border-radius:18px;
  padding:30px;
  border:4px solid #000;
}

.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
.title{display:flex;align-items:center;gap:16px}
.title img{width:48px;height:48px;image-rendering:pixelated}
h1{font-family:'Press Start 2P',monospace;font-size:1.6rem;color:#ffffff}

.toggle{cursor:pointer;width:60px;height:30px;background:#111;border-radius:30px;position:relative}
.toggle span{position:absolute;top:3px;left:3px;width:24px;height:24px;background:#fff;border-radius:50%;transition:.4s}
body.dark .toggle span{transform:translateX(30px)}

table{width:100%;border-collapse:collapse;border-radius:12px;overflow:hidden}
thead{background:#162a7a}
th,td{padding:14px;text-align:center}
th{font-family:'Press Start 2P',monospace;font-size:.65rem}

.th-brick{
  background-image:var(--brick);
  background-repeat:repeat;
  background-size:32px 32px;
  image-rendering:pixelated;
  color:#fff;
  text-shadow:2px 2px 0 #000;
}

.th-rank{width:60px}
tbody tr:nth-child(odd){background:rgba(0,0,0,.12)}
.rank{font-weight:bold;color:#ffffff}

#transition{
  position: fixed;
  inset: 0;
  background: rgba(255,255,255,.15);
  backdrop-filter: blur(14px);
  opacity: 0;
  pointer-events: none;
  transition: opacity .45s ease;
  z-index: 999;
}

body.switching #transition{
  opacity: 1;
}

body.dark #transition{
  background: rgba(0,0,0,.35);
}

@keyframes glitchLines {
  0%   { transform: translate(0); }
  20%  { transform: translate(-1px, 0); }
  40%  { transform: translate(1px, 0); }
  60%  { transform: translate(-1px, 0); }
  80%  { transform: translate(1px, 0); }
  100% { transform: translate(0); }
}

@keyframes glitchNoise {
  0%   { opacity: .08; }
  50%  { opacity: .15; }
  100% { opacity: .08; }
}

body.switching{
  animation: glitchLines .18s steps(2) 2;
}

body.switching::before{
  content:"";
  position: fixed;
  inset: 0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(0,0,0,.08),
      rgba(0,0,0,.08) 1px,
      transparent 1px,
      transparent 3px
    );
  opacity: 0;
  pointer-events: none;
  animation: glitchNoise .18s steps(2) 2;
  z-index: 998;
}

body.dark.switching::before{
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,.08),
      rgba(255,255,255,.08) 1px,
      transparent 1px,
      transparent 3px
    );
}
